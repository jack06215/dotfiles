@namespace url("http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul");

/* === Global Theme Variables === */
:root {
  /* Colors */
  --color-bg-dark: #111117;
  --color-bg-mid: #262639;
  --color-fg-light: #c1c1d1;
  --color-fg-dim: #6c6c93;
  --color-accent: #00ffe0;

  /* Font */
  --font-tab: "Cozette", monospace;
  --font-urlbar: monospace;

  /* Sizes */
  --tab-min-height: 20px;
  --urlbar-height: 24px;

  /* Paddings */
  --padding-menuitem: 2px;
  --padding-toolbar-inner: 0px 2px;

  /* Private browsing */
  --private-icon-char: "P";

  /* RGB animation speed */
  --rgb-speed: 2s;
}

/* === Base Colors === */
#navigator-toolbox,
#TabsToolbar,
#nav-bar {
  background: var(--color-bg-dark) !important;
}

.tabbrowser-tab[selected] .tab-content {
  color: var(--color-fg-light);
}
.tabbrowser-tab:not([selected]) .tab-content {
  color: var(--color-fg-dim);
}

/* === Tab Layout === */
.tabbrowser-tab[selected]:not(:hover):not([pinned]) .tab-label-container,
#tabbrowser-tabs:not([closebuttons="activetab"]) .tabbrowser-tab:not(:hover):not([pinned]) .tab-label-container {
  padding-inline-end: 6px;
}
.tab-icon-stack {
  margin-inline-start: auto;
}
.tab-label-container {
  max-width: min-content;
  margin-inline-end: auto;
}

/* Hide close buttons */
.tabbrowser-tab .tab-close-button { display: none; }

/* === Toolbar Cleanup === */
#back-button,
#forward-button,
#reload-button,
#stop-button,
#home-button,
#library-button,
#fxa-toolbar-menu-button,
#customizableui-special-spring1,
#customizableui-special-spring2,
#page-action-buttons,
#PanelUI-button,
#tracking-protection-icon-container {
  display: none;
}

/* === Unified Extensions Menu === */
#unified-extensions-view {
  --uei-icon-size: 12px;
}
.unified-extensions-item-message-deck,
#unified-extensions-view > .panel-header,
#unified-extensions-view > toolbarseparator,
#unified-extensions-manage-extensions {
  display: none;
}

/* === Private Browsing Indicator === */
#private-browsing-indicator-with-label { display: none; }
#main-window[privatebrowsingmode] .tabbrowser-tab[selected] .tab-content::before {
  content: var(--private-icon-char);
  color: var(--color-accent);
  margin-right: 0.5em;
}

/* === Status Panel (bottom-left) === */
#statuspanel {
  position: fixed;
  bottom: 1vh;
  left: 1vw;
  border: none;
  color: var(--color-fg-light);
  font-size: 10px;
  max-width: 50%;
  background: transparent;
}

/* === Animated RGB Tab Border === */
@keyframes filter{from{ filter: hue-rotate(0deg) } to { filter: hue-rotate(360deg) }}
 
.tabbrowser-tab[selected] > .tab-stack::before{
  grid-area: 1/1;
  content: "";
  display: inherit;
  margin-block: var(--tab-block-margin);
  border-radius: var(--tab-border-radius);
  z-index: 0;
  background-image: conic-gradient(
    hsl(0 100% 70%),
    hsl(60 100% 45%) 70deg,
    hsl(120 100% 55%) 105deg,
    hsl(160 100% 60%) 160deg,
    hsl(200 100% 60%) 200deg,
    hsl(240 100% 65%) 255deg,
    hsl(300 100% 60%) 290deg,
    hsl(360 100% 70%) 360deg);
  mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPg0KICA8cmVjdCB4PSIwIiB5PSIwIiByeD0iNCIgc3Ryb2tlPSJyZWQiIHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIHN0cm9rZS13aWR0aD0iMiIgZmlsbD0ibm9uZSIgdmVjdG9yLWVmZmVjdD0ibm9uLXNjYWxpbmctc3Ryb2tlIi8+DQo8L3N2Zz4");
  background-size: cover;
  background-position: center;
  animation: filter steps(30) 2s infinite;
  
}
.tab-background[selected]{
  border: 1px solid transparent !important;
  outline: none !important;
  background-clip: padding-box !important;
}

/* == One line firefox == */
/* Title bar */
.titlebar-buttonbox {
    display: none !important;
}

.titlebar-spacer {
    display: none !important;
}

/* Tab bar */
#navigator-toolbox {
    border: 0px !important;
}

#TabsToolbar {
    margin-left: 20vw !important;
}

/* Nav bar*/
#nav-bar {
    background: transparent !important;
    margin-right: 80vw !important;
    margin-top: -36px !important;
}

/* URL bar */
#back-button {
    display: none !important;
}

#forward-button {
    display: none !important;
}

#tracking-protection-icon-container {
    display: none !important;
}

#urlbar-container {
    width: auto !important;
}

#urlbar {
    background: transparent !important;
    border: none !important;
    box-shadow: none !important;
}

#urlbar[breakout-extend] {
    width: 100vw !important;
}

#page-action-buttons {
    display: none !important;
}

#PanelUI-button {
    display: none !important;
}
